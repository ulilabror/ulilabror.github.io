import{j as e,L as p,r as s,b as w,e as j}from"./index-CtQnsfb8.js";import{C as y}from"./CurrencyFormatter-CFY7w1jl.js";function k({product:t}){return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-4 w-64 h-96 flex-shrink-0",children:[t.files.length>0?e.jsx("img",{src:t.files[0].url,alt:t.product_name,className:"w-full h-48 object-cover rounded-md"}):e.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-md",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-24 h-24 text-gray-400 dark:text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.25V6.75a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 6.75v13.5A2.25 2.25 0 0118.75 22.5H5.25A2.25 2.25 0 013 20.25v-1.5M3 8.25h18m-10.5 7.5H9m4.5 0h-3M9 15.75H7.5M15 15.75h-1.5M9 18h-1.5m4.5 0h-3M15 18h-1.5m4.5 0h-1.5"})})}),e.jsx("h3",{className:"mt-2 text-lg font-semibold text-gray-900 dark:text-white",children:t.product_name}),e.jsxs("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:["SKU: ",t.product_sku]}),e.jsxs("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:[" ",y(t.price)]}),e.jsx(p,{to:`/product/${t.id}`,className:"mt-4 block text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Detail Product"})]})}function P(){const[t,g]=s.useState([]),[i,u]=s.useState({}),[h,c]=s.useState(!0),[l,m]=s.useState(null),[n,x]=s.useState(1),[o,d]=s.useState(!1);return s.useEffect(()=>{(async()=>{try{const r=await j(n);g(f=>[...f,...r.data.products]),u(r.data.pagination),c(!1),d(!1)}catch(r){m(r),c(!1),d(!1)}})()},[n]),s.useEffect(()=>{const a=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&!o&&i.next_page_url&&(d(!0),x(r=>r+1))};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[o,i]),h&&n===1?e.jsx(w,{}):l?e.jsxs("p",{children:["Error loading products: ",l.message]}):e.jsxs("div",{className:"bg-gray-100 min-h-screen dark:bg-gray-800 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:[t.length>0?t.map((a,r)=>e.jsx(k,{product:a},r)):e.jsx("p",{className:"col-span-full text-center text-gray-500 dark:text-gray-400",children:"Product empty"}),o&&e.jsx("p",{children:"Loading more products..."})]})}export{k as P,P as a};
