import{j as e,r,b as p,e as w}from"./index-L6hzUIs3.js";import{C as j}from"./CurrencyFormatter-CFY7w1jl.js";function y({product:t}){return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md p-4 w-64 flex-shrink-0",children:[t.files.length>0?e.jsx("img",{src:t.files[0].url,alt:t.product_name,className:"w-full h-48 object-cover rounded-md"}):e.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-md",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-24 h-24 text-gray-400 dark:text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.25V6.75a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 6.75v13.5A2.25 2.25 0 0118.75 22.5H5.25A2.25 2.25 0 013 20.25v-1.5M3 8.25h18m-10.5 7.5H9m4.5 0h-3M9 15.75H7.5M15 15.75h-1.5M9 18h-1.5m4.5 0h-3M15 18h-1.5m4.5 0h-1.5"})})}),e.jsx("h3",{className:"mt-2 text-lg font-semibold text-gray-900 dark:text-white",children:t.product_name}),e.jsxs("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:["SKU: ",t.product_sku]}),e.jsxs("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:[" ",j(t.price)]}),e.jsx("a",{href:`/product/${t.id}`,className:"mt-4 block text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"View Details"})]})}function b(){const[t,g]=r.useState([]),[d,u]=r.useState({}),[h,c]=r.useState(!0),[l,m]=r.useState(null),[o,x]=r.useState(1),[n,i]=r.useState(!1);return r.useEffect(()=>{(async()=>{try{const s=await w(o);g(f=>[...f,...s.data.products]),u(s.data.pagination),c(!1),i(!1)}catch(s){m(s),c(!1),i(!1)}})()},[o]),r.useEffect(()=>{const a=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&!n&&d.next_page_url&&(i(!0),x(s=>s+1))};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[n,d]),h&&o===1?e.jsx(p,{}):l?e.jsxs("p",{children:["Error loading products: ",l.message]}):e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:[t.map((a,s)=>e.jsx(y,{product:a},s)),n&&e.jsx("p",{children:"Loading more products..."})]})}export{y as P,b as a};
