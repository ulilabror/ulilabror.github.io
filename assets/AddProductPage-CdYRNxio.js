import{R as oe,r as Y,j as x,p as Ut}from"./index-L6hzUIs3.js";import{C as Lt}from"./Container-BOIiYoxE.js";import{u as jt,L as Mt}from"./Layout-qOHNJpiL.js";var Ze=e=>e.type==="checkbox",Se=e=>e instanceof Date,ee=e=>e==null;const xt=e=>typeof e=="object";var G=e=>!ee(e)&&!Array.isArray(e)&&xt(e)&&!Se(e),Ht=e=>G(e)&&e.target?Ze(e.target)?e.target.checked:e.target.value:e,Gt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qt=(e,r)=>e.has(Gt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return G(r)&&r.hasOwnProperty("isPrototypeOf")},it=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ae(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(it&&(e instanceof Blob||e instanceof FileList))&&(t||G(e)))if(r=t?[]:{},!t&&!Wt(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=ae(e[s]));else return e;return r}var qe=e=>Array.isArray(e)?e.filter(Boolean):[],M=e=>e===void 0,p=(e,r,t)=>{if(!r||!G(e))return t;const s=qe(r.split(/[,[\].]+?/)).reduce((a,i)=>ee(a)?a:a[i],e);return M(s)||s===e?M(e[r])?t:e[r]:s},de=e=>typeof e=="boolean",at=e=>/^\w*$/.test(e),Bt=e=>qe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),P=(e,r,t)=>{let s=-1;const a=at(r)?[r]:Bt(r),i=a.length,c=i-1;for(;++s<i;){const d=a[s];let w=t;if(s!==c){const l=e[d];w=G(l)||Array.isArray(l)?l:isNaN(+a[s+1])?{}:[]}if(d==="__proto__")return;e[d]=w,e=e[d]}return e};const ft={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ue={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ge={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};oe.createContext(null);var Yt=(e,r,t,s=!0)=>{const a={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const c=i;return r._proxyFormState[c]!==ue.all&&(r._proxyFormState[c]=!s||ue.all),e[c]}});return a},te=e=>G(e)&&!Object.keys(e).length,Xt=(e,r,t,s)=>{t(e);const{name:a,...i}=e;return te(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(c=>r[c]===ue.all)},Ue=e=>Array.isArray(e)?e:[e];function $t(e){const r=oe.useRef(e);r.current=e,oe.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var fe=e=>typeof e=="string",zt=(e,r,t,s,a)=>fe(e)?(s&&r.watch.add(e),p(t,e,a)):Array.isArray(e)?e.map(i=>(s&&r.watch.add(i),p(t,i))):(s&&(r.watchAll=!0),t),Kt=(e,r,t,s,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:a||!0}}:{},ht=e=>({isOnSubmit:!e||e===ue.onSubmit,isOnBlur:e===ue.onBlur,isOnChange:e===ue.onChange,isOnAll:e===ue.all,isOnTouch:e===ue.onTouched}),yt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ce=(e,r,t,s)=>{for(const a of t||Object.keys(e)){const i=p(e,a);if(i){const{_f:c,...d}=i;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],a)&&!s)return!0;if(c.ref&&r(c.ref,c.name)&&!s)return!0;if(Ce(d,r))break}else if(G(d)&&Ce(d,r))break}}};var Qt=(e,r,t)=>{const s=Ue(p(e,t));return P(s,"root",r[t]),P(e,t,s),e},ot=e=>e.type==="file",_e=e=>typeof e=="function",je=e=>{if(!it)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Le=e=>fe(e),ut=e=>e.type==="radio",Me=e=>e instanceof RegExp;const gt={value:!1,isValid:!1},_t={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?_t:{value:e[0].value,isValid:!0}:_t:gt}return gt};const mt={isValid:!1,value:null};var Ft=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,mt):mt;function At(e,r,t="validate"){if(Le(e)||Array.isArray(e)&&e.every(Le)||de(e)&&!e)return{type:t,message:Le(e)?e:"",ref:r}}var Be=e=>G(e)&&!Me(e)?e:{value:e,message:""},vt=async(e,r,t,s,a)=>{const{ref:i,refs:c,required:d,maxLength:w,minLength:l,min:g,max:A,pattern:I,validate:B,name:k,valueAsNumber:q,mount:U,disabled:O}=e._f,D=p(r,k);if(!U||O)return{};const z=c?c[0]:i,re=R=>{s&&z.reportValidity&&(z.setCustomValidity(de(R)?"":R||""),z.reportValidity())},V={},he=ut(i),be=Ze(i),ce=he||be,ye=(q||ot(i))&&M(i.value)&&M(D)||je(i)&&i.value===""||D===""||Array.isArray(D)&&!D.length,K=Kt.bind(null,k,t,V),ie=(R,N,Z,H=ge.maxLength,se=ge.minLength)=>{const Q=R?N:Z;V[k]={type:R?H:se,message:Q,ref:i,...K(R?H:se,Q)}};if(a?!Array.isArray(D)||!D.length:d&&(!ce&&(ye||ee(D))||de(D)&&!D||be&&!St(c).isValid||he&&!Ft(c).isValid)){const{value:R,message:N}=Le(d)?{value:!!d,message:d}:Be(d);if(R&&(V[k]={type:ge.required,message:N,ref:z,...K(ge.required,N)},!t))return re(N),V}if(!ye&&(!ee(g)||!ee(A))){let R,N;const Z=Be(A),H=Be(g);if(!ee(D)&&!isNaN(D)){const se=i.valueAsNumber||D&&+D;ee(Z.value)||(R=se>Z.value),ee(H.value)||(N=se<H.value)}else{const se=i.valueAsDate||new Date(D),Q=Ae=>new Date(new Date().toDateString()+" "+Ae),le=i.type=="time",me=i.type=="week";fe(Z.value)&&D&&(R=le?Q(D)>Q(Z.value):me?D>Z.value:se>new Date(Z.value)),fe(H.value)&&D&&(N=le?Q(D)<Q(H.value):me?D<H.value:se<new Date(H.value))}if((R||N)&&(ie(!!R,Z.message,H.message,ge.max,ge.min),!t))return re(V[k].message),V}if((w||l)&&!ye&&(fe(D)||a&&Array.isArray(D))){const R=Be(w),N=Be(l),Z=!ee(R.value)&&D.length>+R.value,H=!ee(N.value)&&D.length<+N.value;if((Z||H)&&(ie(Z,R.message,N.message),!t))return re(V[k].message),V}if(I&&!ye&&fe(D)){const{value:R,message:N}=Be(I);if(Me(R)&&!D.match(R)&&(V[k]={type:ge.pattern,message:N,ref:i,...K(ge.pattern,N)},!t))return re(N),V}if(B){if(_e(B)){const R=await B(D,r),N=At(R,z);if(N&&(V[k]={...N,...K(ge.validate,N.message)},!t))return re(N.message),V}else if(G(B)){let R={};for(const N in B){if(!te(R)&&!t)break;const Z=At(await B[N](D,r),z,N);Z&&(R={...Z,...K(N,Z.message)},re(Z.message),t&&(V[k]=R))}if(!te(R)&&(V[k]={ref:z,...R},!t))return V}}return re(!0),V};function Jt(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=M(e)?s++:e[r[s++]];return e}function er(e){for(const r in e)if(e.hasOwnProperty(r)&&!M(e[r]))return!1;return!0}function W(e,r){const t=Array.isArray(r)?r:at(r)?[r]:Bt(r),s=t.length===1?e:Jt(e,t),a=t.length-1,i=t[a];return s&&delete s[i],a!==0&&(G(s)&&te(s)||Array.isArray(s)&&er(s))&&W(e,t.slice(0,-1)),e}var Ke=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},He=e=>ee(e)||!xt(e);function ve(e,r){if(He(e)||He(r))return e===r;if(Se(e)&&Se(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const a of t){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=r[a];if(Se(i)&&Se(c)||G(i)&&G(c)||Array.isArray(i)&&Array.isArray(c)?!ve(i,c):i!==c)return!1}}return!0}var Dt=e=>e.type==="select-multiple",tr=e=>ut(e)||Ze(e),Qe=e=>je(e)&&e.isConnected,Nt=e=>{for(const r in e)if(_e(e[r]))return!0;return!1};function Ge(e,r={}){const t=Array.isArray(e);if(G(e)||t)for(const s in e)Array.isArray(e[s])||G(e[s])&&!Nt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ge(e[s],r[s])):ee(e[s])||(r[s]=!0);return r}function Ct(e,r,t){const s=Array.isArray(e);if(G(e)||s)for(const a in e)Array.isArray(e[a])||G(e[a])&&!Nt(e[a])?M(r)||He(t[a])?t[a]=Array.isArray(e[a])?Ge(e[a],[]):{...Ge(e[a])}:Ct(e[a],ee(r)?{}:r[a],t[a]):t[a]=!ve(e[a],r[a]);return t}var Ve=(e,r)=>Ct(e,r,Ge(r)),It=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>M(e)?e:r?e===""?NaN:e&&+e:t&&fe(e)?new Date(e):s?s(e):e;function Je(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return ot(r)?r.files:ut(r)?Ft(e.refs).value:Dt(r)?[...r.selectedOptions].map(({value:t})=>t):Ze(r)?St(e.refs).value:It(M(r.value)?e.ref.value:r.value,e)}var rr=(e,r,t,s)=>{const a={};for(const i of e){const c=p(r,i);c&&P(a,i,c._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:s}},Ne=e=>M(e)?e:Me(e)?e.source:G(e)?Me(e.value)?e.value.source:e.value:e;const pt="AsyncFunction";var sr=e=>(!e||!e.validate)&&!!(_e(e.validate)&&e.validate.constructor.name===pt||G(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===pt)),nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function bt(e,r,t){const s=p(e,t);if(s||at(t))return{error:s,name:t};const a=t.split(".");for(;a.length;){const i=a.join("."),c=p(r,i),d=p(e,i);if(c&&!Array.isArray(c)&&t!==i)return{name:t};if(d&&d.type)return{name:i,error:d};a.pop()}return{name:t}}var ir=(e,r,t,s,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?s.isOnBlur:a.isOnBlur)?!e:(t?s.isOnChange:a.isOnChange)?e:!0,ar=(e,r)=>!qe(p(e,r)).length&&W(e,r);const or={mode:ue.onSubmit,reValidateMode:ue.onChange,shouldFocusError:!0};function ur(e={}){let r={...or,...e},t={submitCount:0,isDirty:!1,isLoading:_e(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},a=G(r.defaultValues)||G(r.values)?ae(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:ae(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,l=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={values:Ke(),array:Ke(),state:Ke()},I=ht(r.mode),B=ht(r.reValidateMode),k=r.criteriaMode===ue.all,q=n=>o=>{clearTimeout(l),l=setTimeout(n,o)},U=async n=>{if(g.isValid||n){const o=r.resolver?te((await ce()).errors):await K(s,!0);o!==t.isValid&&A.state.next({isValid:o})}},O=(n,o)=>{(g.isValidating||g.validatingFields)&&((n||Array.from(d.mount)).forEach(u=>{u&&(o?P(t.validatingFields,u,o):W(t.validatingFields,u))}),A.state.next({validatingFields:t.validatingFields,isValidating:!te(t.validatingFields)}))},D=(n,o=[],u,_,y=!0,f=!0)=>{if(_&&u){if(c.action=!0,f&&Array.isArray(p(s,n))){const b=u(p(s,n),_.argA,_.argB);y&&P(s,n,b)}if(f&&Array.isArray(p(t.errors,n))){const b=u(p(t.errors,n),_.argA,_.argB);y&&P(t.errors,n,b),ar(t.errors,n)}if(g.touchedFields&&f&&Array.isArray(p(t.touchedFields,n))){const b=u(p(t.touchedFields,n),_.argA,_.argB);y&&P(t.touchedFields,n,b)}g.dirtyFields&&(t.dirtyFields=Ve(a,i)),A.state.next({name:n,isDirty:R(n,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else P(i,n,o)},z=(n,o)=>{P(t.errors,n,o),A.state.next({errors:t.errors})},re=n=>{t.errors=n,A.state.next({errors:t.errors,isValid:!1})},V=(n,o,u,_)=>{const y=p(s,n);if(y){const f=p(i,n,M(u)?p(a,n):u);M(f)||_&&_.defaultChecked||o?P(i,n,o?f:Je(y._f)):H(n,f),c.mount&&U()}},he=(n,o,u,_,y)=>{let f=!1,b=!1;const T={name:n},X=!!(p(s,n)&&p(s,n)._f&&p(s,n)._f.disabled);if(!u||_){g.isDirty&&(b=t.isDirty,t.isDirty=T.isDirty=R(),f=b!==T.isDirty);const $=X||ve(p(a,n),o);b=!!(!X&&p(t.dirtyFields,n)),$||X?W(t.dirtyFields,n):P(t.dirtyFields,n,!0),T.dirtyFields=t.dirtyFields,f=f||g.dirtyFields&&b!==!$}if(u){const $=p(t.touchedFields,n);$||(P(t.touchedFields,n,u),T.touchedFields=t.touchedFields,f=f||g.touchedFields&&$!==u)}return f&&y&&A.state.next(T),f?T:{}},be=(n,o,u,_)=>{const y=p(t.errors,n),f=g.isValid&&de(o)&&t.isValid!==o;if(e.delayError&&u?(w=q(()=>z(n,u)),w(e.delayError)):(clearTimeout(l),w=null,u?P(t.errors,n,u):W(t.errors,n)),(u?!ve(y,u):y)||!te(_)||f){const b={..._,...f&&de(o)?{isValid:o}:{},errors:t.errors,name:n};t={...t,...b},A.state.next(b)}},ce=async n=>{O(n,!0);const o=await r.resolver(i,r.context,rr(n||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return O(n),o},ye=async n=>{const{errors:o}=await ce(n);if(n)for(const u of n){const _=p(o,u);_?P(t.errors,u,_):W(t.errors,u)}else t.errors=o;return o},K=async(n,o,u={valid:!0})=>{for(const _ in n){const y=n[_];if(y){const{_f:f,...b}=y;if(f){const T=d.array.has(f.name),X=y._f&&sr(y._f);X&&g.validatingFields&&O([_],!0);const $=await vt(y,i,k,r.shouldUseNativeValidation&&!o,T);if(X&&g.validatingFields&&O([_]),$[f.name]&&(u.valid=!1,o))break;!o&&(p($,f.name)?T?Qt(t.errors,$,f.name):P(t.errors,f.name,$[f.name]):W(t.errors,f.name))}!te(b)&&await K(b,o,u)}}return u.valid},ie=()=>{for(const n of d.unMount){const o=p(s,n);o&&(o._f.refs?o._f.refs.every(u=>!Qe(u)):!Qe(o._f.ref))&&De(n)}d.unMount=new Set},R=(n,o)=>(n&&o&&P(i,n,o),!ve(we(),a)),N=(n,o,u)=>zt(n,d,{...c.mount?i:M(o)?a:fe(n)?{[n]:o}:o},u,o),Z=n=>qe(p(c.mount?i:a,n,e.shouldUnregister?p(a,n,[]):[])),H=(n,o,u={})=>{const _=p(s,n);let y=o;if(_){const f=_._f;f&&(!f.disabled&&P(i,n,It(o,f)),y=je(f.ref)&&ee(o)?"":o,Dt(f.ref)?[...f.ref.options].forEach(b=>b.selected=y.includes(b.value)):f.refs?Ze(f.ref)?f.refs.length>1?f.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(y)?!!y.find(T=>T===b.value):y===b.value)):f.refs[0]&&(f.refs[0].checked=!!y):f.refs.forEach(b=>b.checked=b.value===y):ot(f.ref)?f.ref.value="":(f.ref.value=y,f.ref.type||A.values.next({name:n,values:{...i}})))}(u.shouldDirty||u.shouldTouch)&&he(n,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&Ae(n)},se=(n,o,u)=>{for(const _ in o){const y=o[_],f=`${n}.${_}`,b=p(s,f);(d.array.has(n)||!He(y)||b&&!b._f)&&!Se(y)?se(f,y,u):H(f,y,u)}},Q=(n,o,u={})=>{const _=p(s,n),y=d.array.has(n),f=ae(o);P(i,n,f),y?(A.array.next({name:n,values:{...i}}),(g.isDirty||g.dirtyFields)&&u.shouldDirty&&A.state.next({name:n,dirtyFields:Ve(a,i),isDirty:R(n,f)})):_&&!_._f&&!ee(f)?se(n,f,u):H(n,f,u),yt(n,d)&&A.state.next({...t}),A.values.next({name:c.mount?n:void 0,values:{...i}})},le=async n=>{c.mount=!0;const o=n.target;let u=o.name,_=!0;const y=p(s,u),f=()=>o.type?Je(y._f):Ht(n),b=T=>{_=Number.isNaN(T)||ve(T,p(i,u,T))};if(y){let T,X;const $=f(),Ee=n.type===ft.BLUR||n.type===ft.FOCUS_OUT,Zt=!nr(y._f)&&!r.resolver&&!p(t.errors,u)&&!y._f.deps||ir(Ee,p(t.touchedFields,u),t.isSubmitted,B,I),$e=yt(u,d,Ee);P(i,u,$),Ee?(y._f.onBlur&&y._f.onBlur(n),w&&w(0)):y._f.onChange&&y._f.onChange(n);const ze=he(u,$,Ee,!1),Pt=!te(ze)||$e;if(!Ee&&A.values.next({name:u,type:n.type,values:{...i}}),Zt)return g.isValid&&(e.mode==="onBlur"?Ee&&U():U()),Pt&&A.state.next({name:u,...$e?{}:ze});if(!Ee&&$e&&A.state.next({...t}),r.resolver){const{errors:lt}=await ce([u]);if(b($),_){const Vt=bt(t.errors,s,u),dt=bt(lt,s,Vt.name||u);T=dt.error,u=dt.name,X=te(lt)}}else O([u],!0),T=(await vt(y,i,k,r.shouldUseNativeValidation))[u],O([u]),b($),_&&(T?X=!1:g.isValid&&(X=await K(s,!0)));_&&(y._f.deps&&Ae(y._f.deps),be(u,X,T,ze))}},me=(n,o)=>{if(p(t.errors,o)&&n.focus)return n.focus(),1},Ae=async(n,o={})=>{let u,_;const y=Ue(n);if(r.resolver){const f=await ye(M(n)?n:y);u=te(f),_=n?!y.some(b=>p(f,b)):u}else n?(_=(await Promise.all(y.map(async f=>{const b=p(s,f);return await K(b&&b._f?{[f]:b}:b)}))).every(Boolean),!(!_&&!t.isValid)&&U()):_=u=await K(s);return A.state.next({...!fe(n)||g.isValid&&u!==t.isValid?{}:{name:n},...r.resolver||!n?{isValid:u}:{},errors:t.errors}),o.shouldFocus&&!_&&Ce(s,me,n?y:d.mount),_},we=n=>{const o={...c.mount?i:a};return M(n)?o:fe(n)?p(o,n):n.map(u=>p(o,u))},Re=(n,o)=>({invalid:!!p((o||t).errors,n),isDirty:!!p((o||t).dirtyFields,n),error:p((o||t).errors,n),isValidating:!!p(t.validatingFields,n),isTouched:!!p((o||t).touchedFields,n)}),Ye=n=>{n&&Ue(n).forEach(o=>W(t.errors,o)),A.state.next({errors:n?t.errors:{}})},Fe=(n,o,u)=>{const _=(p(s,n,{_f:{}})._f||{}).ref,y=p(t.errors,n)||{},{ref:f,message:b,type:T,...X}=y;P(t.errors,n,{...X,...o,ref:_}),A.state.next({name:n,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&_&&_.focus&&_.focus()},Xe=(n,o)=>_e(n)?A.values.subscribe({next:u=>n(N(void 0,o),u)}):N(n,o,!0),De=(n,o={})=>{for(const u of n?Ue(n):d.mount)d.mount.delete(u),d.array.delete(u),o.keepValue||(W(s,u),W(i,u)),!o.keepError&&W(t.errors,u),!o.keepDirty&&W(t.dirtyFields,u),!o.keepTouched&&W(t.touchedFields,u),!o.keepIsValidating&&W(t.validatingFields,u),!r.shouldUnregister&&!o.keepDefaultValue&&W(a,u);A.values.next({values:{...i}}),A.state.next({...t,...o.keepDirty?{isDirty:R()}:{}}),!o.keepIsValid&&U()},Pe=({disabled:n,name:o,field:u,fields:_,value:y})=>{if(de(n)&&c.mount||n){const f=n?void 0:M(y)?Je(u?u._f:p(_,o)._f):y;P(i,o,f),he(o,f,!1,!1,!0)}},xe=(n,o={})=>{let u=p(s,n);const _=de(o.disabled)||de(e.disabled);return P(s,n,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:n}},name:n,mount:!0,...o}}),d.mount.add(n),u?Pe({field:u,disabled:de(o.disabled)?o.disabled:e.disabled,name:n,value:o.value}):V(n,!0,o.value),{..._?{disabled:o.disabled||e.disabled}:{},...r.progressive?{required:!!o.required,min:Ne(o.min),max:Ne(o.max),minLength:Ne(o.minLength),maxLength:Ne(o.maxLength),pattern:Ne(o.pattern)}:{},name:n,onChange:le,onBlur:le,ref:y=>{if(y){xe(n,o),u=p(s,n);const f=M(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,b=tr(f),T=u._f.refs||[];if(b?T.find(X=>X===f):f===u._f.ref)return;P(s,n,{_f:{...u._f,...b?{refs:[...T.filter(Qe),f,...Array.isArray(p(a,n))?[{}]:[]],ref:{type:f.type,name:n}}:{ref:f}}}),V(n,!1,void 0,f)}else u=p(s,n,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(qt(d.array,n)&&c.action)&&d.unMount.add(n)}}},h=()=>r.shouldFocusError&&Ce(s,me,d.mount),m=n=>{de(n)&&(A.state.next({disabled:n}),Ce(s,(o,u)=>{const _=p(s,u);_&&(o.disabled=_._f.disabled||n,Array.isArray(_._f.refs)&&_._f.refs.forEach(y=>{y.disabled=_._f.disabled||n}))},0,!1))},S=(n,o)=>async u=>{let _;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=ae(i);if(A.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:b}=await ce();t.errors=f,y=b}else await K(s);if(W(t.errors,"root"),te(t.errors)){A.state.next({errors:{}});try{await n(y,u)}catch(f){_=f}}else o&&await o({...t.errors},u),h(),setTimeout(h);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:te(t.errors)&&!_,submitCount:t.submitCount+1,errors:t.errors}),_)throw _},E=(n,o={})=>{p(s,n)&&(M(o.defaultValue)?Q(n,ae(p(a,n))):(Q(n,o.defaultValue),P(a,n,ae(o.defaultValue))),o.keepTouched||W(t.touchedFields,n),o.keepDirty||(W(t.dirtyFields,n),t.isDirty=o.defaultValue?R(n,ae(p(a,n))):R()),o.keepError||(W(t.errors,n),g.isValid&&U()),A.state.next({...t}))},C=(n,o={})=>{const u=n?ae(n):a,_=ae(u),y=te(n),f=y?a:_;if(o.keepDefaultValues||(a=u),!o.keepValues){if(o.keepDirtyValues)for(const b of d.mount)p(t.dirtyFields,b)?P(f,b,p(i,b)):Q(b,p(f,b));else{if(it&&M(n))for(const b of d.mount){const T=p(s,b);if(T&&T._f){const X=Array.isArray(T._f.refs)?T._f.refs[0]:T._f.ref;if(je(X)){const $=X.closest("form");if($){$.reset();break}}}}s={}}i=e.shouldUnregister?o.keepDefaultValues?ae(a):{}:ae(f),A.array.next({values:{...f}}),A.values.next({values:{...f}})}d={mount:o.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!g.isValid||!!o.keepIsValid||!!o.keepDirtyValues,c.watch=!!e.shouldUnregister,A.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:y?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ve(n,a)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:o.keepDirtyValues?o.keepDefaultValues&&i?Ve(a,i):t.dirtyFields:o.keepDefaultValues&&n?Ve(a,n):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},j=(n,o)=>C(_e(n)?n(i):n,o);return{control:{register:xe,unregister:De,getFieldState:Re,handleSubmit:S,setError:Fe,_executeSchema:ce,_getWatch:N,_getDirty:R,_updateValid:U,_removeUnmounted:ie,_updateFieldArray:D,_updateDisabledField:Pe,_getFieldArray:Z,_reset:C,_resetDefaultValues:()=>_e(r.defaultValues)&&r.defaultValues().then(n=>{j(n,r.resetOptions),A.state.next({isLoading:!1})}),_updateFormState:n=>{t={...t,...n}},_disableForm:m,_subjects:A,_proxyFormState:g,_setErrors:re,get _fields(){return s},get _formValues(){return i},get _state(){return c},set _state(n){c=n},get _defaultValues(){return a},get _names(){return d},set _names(n){d=n},get _formState(){return t},set _formState(n){t=n},get _options(){return r},set _options(n){r={...r,...n}}},trigger:Ae,register:xe,handleSubmit:S,watch:Xe,setValue:Q,getValues:we,reset:j,resetField:E,clearErrors:Ye,unregister:De,setError:Fe,setFocus:(n,o={})=>{const u=p(s,n),_=u&&u._f;if(_){const y=_.refs?_.refs[0]:_.ref;y.focus&&(y.focus(),o.shouldSelect&&y.select())}},getFieldState:Re}}function cr(e={}){const r=oe.useRef(),t=oe.useRef(),[s,a]=oe.useState({isDirty:!1,isValidating:!1,isLoading:_e(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:_e(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...ur(e),formState:s});const i=r.current.control;return i._options=e,$t({subject:i._subjects.state,next:c=>{Xt(c,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),oe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),oe.useEffect(()=>{if(i._proxyFormState.isDirty){const c=i._getDirty();c!==s.isDirty&&i._subjects.state.next({isDirty:c})}},[i,s.isDirty]),oe.useEffect(()=>{e.values&&!ve(e.values,t.current)?(i._reset(e.values,i._options.resetOptions),t.current=e.values,a(c=>({...c}))):i._resetDefaultValues()},[e.values,i]),oe.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),oe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),oe.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),r.current.formState=Yt(s,i),r.current}var rt=function(){return rt=Object.assign||function(r){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},rt.apply(this,arguments)};function lr(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]]);return t}function Te(e,r,t,s){function a(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function d(g){try{l(s.next(g))}catch(A){c(A)}}function w(g){try{l(s.throw(g))}catch(A){c(A)}}function l(g){g.done?i(g.value):a(g.value).then(d,w)}l((s=s.apply(e,r||[])).next())})}function ke(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(l){return function(g){return w([l,g])}}function w(l){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(t=0)),t;)try{if(s=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,a=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(g){l=[6,g],a=0}finally{s=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function dr(e,r,t){if(t||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var fr=function(e,r){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];return Te(void 0,dr([e,r],t,!0),void 0,function(a,i,c){var d,w,l;return c===void 0&&(c="error"),ke(this,function(g){switch(g.label){case 0:return l=new Promise(function(A,I){d=A,w=I,a.addEventListener(i,d),a.addEventListener(c,w)}).finally(function(){a.removeEventListener(i,d),a.removeEventListener(c,w)}),[4,l];case 1:return[2,g.sent()]}})})},hr=function(e){return Te(void 0,void 0,void 0,function(){return ke(this,function(r){switch(r.label){case 0:return[4,new Promise(function(t){return setTimeout(t,e)})];case 1:return r.sent(),[2]}})})},st=[];function yr(e){setTimeout(function(){st.forEach(function(r){r(e)})})}function gr(){var e=Y.useState(),r=e[0],t=e[1];return Y.useEffect(function(){var s=st.push(t);return function(){st.splice(s,1)}},[]),[r,yr]}var _r={width:{min:640,ideal:1280},height:{min:480,ideal:720},facingMode:{ideal:"environment"},advanced:[{width:1920,height:1280},{aspectRatio:1.333}]};function mr(e,r){var t=this,s=Y.useState(!1),a=s[0],i=s[1],c=gr(),d=c[1];Y.useEffect(function(){if(!window.isSecureContext)throw new Error(`[react-barcode-scanner]: 
        Browser ask for secure origin (such as https) when use getUserMedia,
        reference: https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins
      `)},[]);var w=Y.useMemo(function(){var l=Object.assign({},_r,r);return{audio:!1,video:l}},[r]);return Y.useEffect(function(){var l=!1,g,A=function(){return Te(t,void 0,void 0,function(){var B;return ke(this,function(k){switch(k.label){case 0:return B=e.current,B==null?[2]:[4,navigator.mediaDevices.getUserMedia(w)];case 1:return g=k.sent(),B.mozSrcObject!==void 0?B.mozSrcObject=g:B.srcObject=g,[4,fr(B,"loadeddata")];case 2:return k.sent(),[4,hr(500)];case 3:return k.sent(),i(!0),d(g),[2]}})})},I=function(){g==null||g.getTracks().forEach(function(B){B.stop()})};return A().then(function(){l&&I()}),function(){l=!0,I()}},[e,w,d]),[a]}var Ar={delay:1e3,formats:["qr_code"]};function vr(e,r){var t=this,s=Y.useState(),a=s[0],i=s[1],c=Y.useState(!1),d=c[0],w=c[1],l=Y.useMemo(function(){return Object.assign({},Ar,r)},[r]),g=Y.useCallback(function(){return Te(t,void 0,void 0,function(){var B,k,q;return ke(this,function(U){switch(U.label){case 0:return B=e.current,k=new BarcodeDetector({formats:l.formats}),[4,k.detect(B)];case 1:return q=U.sent()[0],q!==void 0&&i(q),[2]}})})},[e,l.formats]);Y.useEffect(function(){var B=e.current;if(!(B==null||!d)){var k=!1,q,U=function(){return Te(t,void 0,void 0,function(){return ke(this,function(O){switch(O.label){case 0:return[4,g()];case 1:return O.sent(),k||(q=window.setTimeout(U,l.delay)),[2]}})})};return q=window.setTimeout(U,l.delay),function(){clearTimeout(q),k=!0}}},[d,e,l.delay,g]);var A=Y.useCallback(function(){w(!0)},[]),I=Y.useCallback(function(){w(!1)},[]);return[a,A,I]}var pr=function(e){var r=e.options,t=e.onCapture,s=e.trackConstraints,a=lr(e,["options","onCapture","trackConstraints"]),i=Y.useRef(null),c=mr(i,s)[0],d=vr(i,r),w=d[0],l=d[1],g=d[2];return Y.useEffect(function(){c?l():g()},[g,c,l]),Y.useEffect(function(){w!==void 0&&(t==null||t(w))},[w,t]),x.jsx("video",rt({ref:i,style:{width:"100%",height:"100%",objectFit:"cover"},autoPlay:!0,muted:!0,playsInline:!0},a))};function pe(e,r,t,s){return new(t||(t=Promise))(function(a,i){function c(l){try{w(s.next(l))}catch(g){i(g)}}function d(l){try{w(s.throw(l))}catch(g){i(g)}}function w(l){var g;l.done?a(l.value):(g=l.value,g instanceof t?g:new t(function(A){A(g)})).then(c,d)}w((s=s.apply(e,[])).next())})}var et,br=(et=import.meta.url,async function(e={}){var r,t,s=e;s.ready=new Promise((h,m)=>{r=h,t=m});var a,i,c,d=Object.assign({},s),w=typeof window=="object",l=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="";if(g){const{createRequire:h}=await Promise.resolve().then(()=>Fr);var I=h(import.meta.url),B=I("fs"),k=I("path");A=l?k.dirname(A)+"/":I("url").fileURLToPath(new URL("/assets/index-DTgavztf.mjs",import.meta.url)),a=(m,S)=>(m=le(m)?new URL(m):k.normalize(m),B.readFileSync(m,S?void 0:"utf8")),c=m=>{var S=a(m,!0);return S.buffer||(S=new Uint8Array(S)),S},i=(m,S,E,C=!0)=>{m=le(m)?new URL(m):k.normalize(m),B.readFile(m,C?void 0:"utf8",(j,L)=>{j?E(j):S(C?L.buffer:L)})},!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(w||l)&&(l?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),et&&(A=et),A=A.indexOf("blob:")!==0?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=h=>{var m=new XMLHttpRequest;return m.open("GET",h,!1),m.send(null),m.responseText},l&&(c=h=>{var m=new XMLHttpRequest;return m.open("GET",h,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),i=(h,m,S)=>{var E=new XMLHttpRequest;E.open("GET",h,!0),E.responseType="arraybuffer",E.onload=()=>{E.status==200||E.status==0&&E.response?m(E.response):S()},E.onerror=S,E.send(null)});var q,U,O,D=s.print||console.log.bind(console),z=s.printErr||console.error.bind(console);Object.assign(s,d),d=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&(q=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&N("no native wasm support detected");var re,V,he=!1;function be(){var h=U.buffer;s.HEAP8=new Int8Array(h),s.HEAP16=new Int16Array(h),s.HEAP32=new Int32Array(h),s.HEAPU8=re=new Uint8Array(h),s.HEAPU16=new Uint16Array(h),s.HEAPU32=V=new Uint32Array(h),s.HEAPF32=new Float32Array(h),s.HEAPF64=new Float64Array(h)}var ce=[],ye=[],K=[],ie=0,R=null;function N(h){s.onAbort&&s.onAbort(h),z(h="Aborted("+h+")"),he=!0,h+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(h);throw t(m),m}var Z,H,se="data:application/octet-stream;base64,";function Q(h){return h.startsWith(se)}function le(h){return h.startsWith("file://")}function me(h){if(h==Z&&q)return new Uint8Array(q);if(c)return c(h);throw"both async and sync fetching of the wasm failed"}function Ae(h,m,S){return function(E){if(!q&&(w||l)){if(typeof fetch=="function"&&!le(E))return fetch(E,{credentials:"same-origin"}).then(C=>{if(!C.ok)throw"failed to load wasm binary file at '"+E+"'";return C.arrayBuffer()}).catch(()=>me(E));if(i)return new Promise((C,j)=>{i(E,L=>C(new Uint8Array(L)),j)})}return Promise.resolve().then(()=>me(E))}(h).then(E=>WebAssembly.instantiate(E,m)).then(E=>E).then(S,E=>{z("failed to asynchronously prepare wasm: "+E),N(E)})}s.locateFile?Q(Z="zbar.wasm")||(H=Z,Z=s.locateFile?s.locateFile(H,A):A+H):Z=new URL("/assets/zbar-BSn7mpZR.wasm",import.meta.url).href;var we,Re=h=>{for(;h.length>0;)h.shift()(s)},Ye=h=>{var m=h-U.buffer.byteLength+65535>>>16;try{return U.grow(m),be(),1}catch{}},Fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xe=[null,[],[]],De=(h,m)=>{var S=Xe[h];m===0||m===10?((h===1?D:z)(((E,C,j)=>{for(var L=C+j,J=C;E[J]&&!(J>=L);)++J;if(J-C>16&&E.buffer&&Fe)return Fe.decode(E.subarray(C,J));for(var ne="";C<J;){var n=E[C++];if(128&n){var o=63&E[C++];if((224&n)!=192){var u=63&E[C++];if((n=(240&n)==224?(15&n)<<12|o<<6|u:(7&n)<<18|o<<12|u<<6|63&E[C++])<65536)ne+=String.fromCharCode(n);else{var _=n-65536;ne+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else ne+=String.fromCharCode((31&n)<<6|o)}else ne+=String.fromCharCode(n)}return ne})(S,0)),S.length=0):S.push(m)},Pe={d:()=>!0,e:function(){return Date.now()},c:h=>{var m=re.length,S=2147483648;if((h>>>=0)>S)return!1;for(var E,C,j=1;j<=4;j*=2){var L=m*(1+.2/j);L=Math.min(L,h+100663296);var J=Math.min(S,(E=Math.max(h,L))+((C=65536)-E%C)%C);if(Ye(J))return!0}return!1},f:h=>52,b:function(h,m,S,E,C){return 70},a:(h,m,S,E)=>{for(var C=0,j=0;j<S;j++){var L=V[m>>2],J=V[m+4>>2];m+=8;for(var ne=0;ne<J;ne++)De(h,re[L+ne]);C+=J}return V[E>>2]=C,0}};function xe(){function h(){we||(we=!0,s.calledRun=!0,he||(Re(ye),r(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)m=s.postRun.shift(),K.unshift(m);var m;Re(K)}()))}ie>0||(function(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)m=s.preRun.shift(),ce.unshift(m);var m;Re(ce)}(),ie>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),h()},1)):h()))}if(function(){var h,m,S,E,C={a:Pe};function j(L,J){var ne,n=L.exports;return U=(O=n).g,be(),O.s,ne=O.h,ye.unshift(ne),function(o){if(ie--,s.monitorRunDependencies&&s.monitorRunDependencies(ie),ie==0&&R){var u=R;R=null,u()}}(),n}if(ie++,s.monitorRunDependencies&&s.monitorRunDependencies(ie),s.instantiateWasm)try{return s.instantiateWasm(C,j)}catch(L){z("Module.instantiateWasm callback failed with error: "+L),t(L)}(h=q,m=Z,S=C,E=function(L){j(L.instance)},h||typeof WebAssembly.instantiateStreaming!="function"||Q(m)||le(m)||g||typeof fetch!="function"?Ae(m,S,E):fetch(m,{credentials:"same-origin"}).then(L=>WebAssembly.instantiateStreaming(L,S).then(E,function(J){return z("wasm streaming compile failed: "+J),z("falling back to ArrayBuffer instantiation"),Ae(m,S,E)}))).catch(t)}(),s._ImageScanner_create=()=>(s._ImageScanner_create=O.i)(),s._ImageScanner_destory=h=>(s._ImageScanner_destory=O.j)(h),s._ImageScanner_set_config=(h,m,S,E)=>(s._ImageScanner_set_config=O.k)(h,m,S,E),s._ImageScanner_enable_cache=(h,m)=>(s._ImageScanner_enable_cache=O.l)(h,m),s._ImageScanner_recycle_image=(h,m)=>(s._ImageScanner_recycle_image=O.m)(h,m),s._ImageScanner_get_results=h=>(s._ImageScanner_get_results=O.n)(h),s._ImageScanner_scan=(h,m)=>(s._ImageScanner_scan=O.o)(h,m),s._Image_create=(h,m,S,E,C,j)=>(s._Image_create=O.p)(h,m,S,E,C,j),s._Image_destory=h=>(s._Image_destory=O.q)(h),s._Image_get_symbols=h=>(s._Image_get_symbols=O.r)(h),s._free=h=>(s._free=O.t)(h),s._malloc=h=>(s._malloc=O.u)(h),R=function h(){we||xe(),we||(R=h)},s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return xe(),e.ready});let tt;const wr=pe(void 0,void 0,void 0,function*(){if(tt=yield br(),!tt)throw Error("WASM was not loaded");return tt}),nt=()=>pe(void 0,void 0,void 0,function*(){return yield wr});var F,Oe,wt;(function(e){e[e.ZBAR_NONE=0]="ZBAR_NONE",e[e.ZBAR_PARTIAL=1]="ZBAR_PARTIAL",e[e.ZBAR_EAN2=2]="ZBAR_EAN2",e[e.ZBAR_EAN5=5]="ZBAR_EAN5",e[e.ZBAR_EAN8=8]="ZBAR_EAN8",e[e.ZBAR_UPCE=9]="ZBAR_UPCE",e[e.ZBAR_ISBN10=10]="ZBAR_ISBN10",e[e.ZBAR_UPCA=12]="ZBAR_UPCA",e[e.ZBAR_EAN13=13]="ZBAR_EAN13",e[e.ZBAR_ISBN13=14]="ZBAR_ISBN13",e[e.ZBAR_COMPOSITE=15]="ZBAR_COMPOSITE",e[e.ZBAR_I25=25]="ZBAR_I25",e[e.ZBAR_DATABAR=34]="ZBAR_DATABAR",e[e.ZBAR_DATABAR_EXP=35]="ZBAR_DATABAR_EXP",e[e.ZBAR_CODABAR=38]="ZBAR_CODABAR",e[e.ZBAR_CODE39=39]="ZBAR_CODE39",e[e.ZBAR_PDF417=57]="ZBAR_PDF417",e[e.ZBAR_QRCODE=64]="ZBAR_QRCODE",e[e.ZBAR_SQCODE=80]="ZBAR_SQCODE",e[e.ZBAR_CODE93=93]="ZBAR_CODE93",e[e.ZBAR_CODE128=128]="ZBAR_CODE128",e[e.ZBAR_SYMBOL=255]="ZBAR_SYMBOL",e[e.ZBAR_ADDON2=512]="ZBAR_ADDON2",e[e.ZBAR_ADDON5=1280]="ZBAR_ADDON5",e[e.ZBAR_ADDON=1792]="ZBAR_ADDON"})(F||(F={})),function(e){e[e.ZBAR_CFG_ENABLE=0]="ZBAR_CFG_ENABLE",e[e.ZBAR_CFG_ADD_CHECK=1]="ZBAR_CFG_ADD_CHECK",e[e.ZBAR_CFG_EMIT_CHECK=2]="ZBAR_CFG_EMIT_CHECK",e[e.ZBAR_CFG_ASCII=3]="ZBAR_CFG_ASCII",e[e.ZBAR_CFG_BINARY=4]="ZBAR_CFG_BINARY",e[e.ZBAR_CFG_NUM=5]="ZBAR_CFG_NUM",e[e.ZBAR_CFG_MIN_LEN=32]="ZBAR_CFG_MIN_LEN",e[e.ZBAR_CFG_MAX_LEN=33]="ZBAR_CFG_MAX_LEN",e[e.ZBAR_CFG_UNCERTAINTY=64]="ZBAR_CFG_UNCERTAINTY",e[e.ZBAR_CFG_POSITION=128]="ZBAR_CFG_POSITION",e[e.ZBAR_CFG_TEST_INVERTED=129]="ZBAR_CFG_TEST_INVERTED",e[e.ZBAR_CFG_X_DENSITY=256]="ZBAR_CFG_X_DENSITY",e[e.ZBAR_CFG_Y_DENSITY=257]="ZBAR_CFG_Y_DENSITY"}(Oe||(Oe={})),function(e){e[e.ZBAR_ORIENT_UNKNOWN=-1]="ZBAR_ORIENT_UNKNOWN",e[e.ZBAR_ORIENT_UP=0]="ZBAR_ORIENT_UP",e[e.ZBAR_ORIENT_RIGHT=1]="ZBAR_ORIENT_RIGHT",e[e.ZBAR_ORIENT_DOWN=2]="ZBAR_ORIENT_DOWN",e[e.ZBAR_ORIENT_LEFT=3]="ZBAR_ORIENT_LEFT"}(wt||(wt={}));class Tt{constructor(r,t){this.ptr=r,this.inst=t}checkAlive(){if(!this.ptr)throw Error("Call after destroyed")}getPointer(){return this.checkAlive(),this.ptr}}class kt{constructor(r,t){this.ptr=r,this.ptr32=r>>2,this.buf=t,this.HEAP8=new Int8Array(t),this.HEAPU32=new Uint32Array(t),this.HEAP32=new Int32Array(t)}}class ct extends kt{get type(){return this.HEAPU32[this.ptr32]}get data(){const r=this.HEAPU32[this.ptr32+4],t=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(t,t+r))}get points(){const r=this.HEAPU32[this.ptr32+7],t=this.HEAPU32[this.ptr32+8]>>2,s=[];for(let a=0;a<r;++a){const i=this.HEAP32[t+2*a],c=this.HEAP32[t+2*a+1];s.push({x:i,y:c})}return s}get orientation(){return this.HEAP32[this.ptr32+9]}get next(){const r=this.HEAPU32[this.ptr32+11];return r?new ct(r,this.buf):null}get time(){return this.HEAPU32[this.ptr32+13]}get cacheCount(){return this.HEAP32[this.ptr32+14]}get quality(){return this.HEAP32[this.ptr32+15]}}class Er extends kt{get head(){const r=this.HEAPU32[this.ptr32+2];return r?new ct(r,this.buf):null}}class We{constructor(r){this.type=r.type,this.typeName=F[this.type],this.data=r.data,this.points=r.points,this.orientation=r.orientation,this.time=r.time,this.cacheCount=r.cacheCount,this.quality=r.quality}static createSymbolsFromPtr(r,t){if(r==0)return[];let s=new Er(r,t).head;const a=[];for(;s!==null;)a.push(new We(s)),s=s.next;return a}decode(r){return new TextDecoder(r).decode(this.data)}}class Rr extends Tt{static createFromGrayBuffer(r,t,s,a=0){return pe(this,void 0,void 0,function*(){const i=yield nt(),c=new Uint8Array(s),d=r*t;if(d!==c.byteLength)throw Error(`data length (${c.byteLength} bytes) does not match width and height (${d} bytes)`);const w=i._malloc(d);return i.HEAPU8.set(c,w),new this(i._Image_create(r,t,808466521,w,d,a),i)})}static createFromRGBABuffer(r,t,s,a=0){return pe(this,void 0,void 0,function*(){const i=yield nt(),c=new Uint8Array(s),d=r*t;if(4*d!==c.byteLength)throw Error(`data length (${c.byteLength} bytes) does not match width and height (${4*d} bytes)`);const w=i._malloc(d),l=w+d,g=i.HEAPU8;for(let A=w,I=0;A<l;A++,I+=4)g[A]=19595*c[I]+38469*c[I+1]+7472*c[I+2]>>16;return new this(i._Image_create(r,t,808466521,w,d,a),i)})}destroy(){this.checkAlive(),this.inst._Image_destory(this.ptr),this.ptr=0}getSymbols(){this.checkAlive();const r=this.inst._Image_get_symbols(this.ptr);return We.createSymbolsFromPtr(r,this.inst.HEAPU8.buffer)}}class xr extends Tt{static create(){return pe(this,void 0,void 0,function*(){const r=yield nt();return new this(r._ImageScanner_create(),r)})}destroy(){this.checkAlive(),this.inst._ImageScanner_destory(this.ptr),this.ptr=0}setConfig(r,t,s){return this.checkAlive(),this.inst._ImageScanner_set_config(this.ptr,r,t,s)}enableCache(r=!0){this.checkAlive(),this.inst._ImageScanner_enable_cache(this.ptr,r)}recycleImage(r){this.checkAlive(),this.inst._ImageScanner_recycle_image(this.ptr,r.getPointer())}getResults(){this.checkAlive();const r=this.inst._ImageScanner_get_results(this.ptr);return We.createSymbolsFromPtr(r,this.inst.HEAPU8.buffer)}scan(r){return this.checkAlive(),this.inst._ImageScanner_scan(this.ptr,r.getPointer())}}const Ot=()=>pe(void 0,void 0,void 0,function*(){const e=yield xr.create();return e.setConfig(F.ZBAR_NONE,Oe.ZBAR_CFG_BINARY,1),e});let Et;const Br=(e,r)=>pe(void 0,void 0,void 0,function*(){r===void 0&&(r=Et||(yield Ot()),Et=r);const t=r.scan(e);if(t<0)throw Error("Scan Failed");return t===0?[]:e.getSymbols()}),Sr=(e,r,t,s)=>pe(void 0,void 0,void 0,function*(){const a=yield Rr.createFromRGBABuffer(r,t,e),i=yield Br(a,s);return a.destroy(),i}),Fr=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*!
 * @preflower/barcode-detector-polyfill v0.9.20
 * A WebAssembly polyfill for the Barcode Detection API
 * Built 2024-04-19T09:28:26.252Z
 * (c) 2021-present Ferdinand Kasper <fkasper@modus-operandi.at>
 * Released under the MIT license.
 * 
 * This work uses https://github.com/undecaf/zbar-wasm.git as per
 * LGPL-2.1 section 6 (https://opensource.org/licenses/LGPL-2.1).
 */function Dr(e,r,t,s){return new(t||(t=Promise))(function(a,i){function c(l){try{w(s.next(l))}catch(g){i(g)}}function d(l){try{w(s.throw(l))}catch(g){i(g)}}function w(l){var g;l.done?a(l.value):(g=l.value,g instanceof t?g:new t(function(A){A(g)})).then(c,d)}w((s=s.apply(e,[])).next())})}class v{constructor(r,t=Oe.ZBAR_CFG_ENABLE,s=1){this.symbolType=r,this.configType=t,this.number=s,this.configSteps=[this]}static register(r,t,s=t.symbolType){return v.formatsToConfigs[r]=t,v.typesToFormats[s]=v.typesToFormats[s]||r,t}static formats(){return Object.keys(v.formatsToConfigs)}static toFormat(r){return v.typesToFormats[r]}static configure(r,t){var s;(s=v.formatsToConfigs[t])===null||s===void 0||s.configSteps.forEach(a=>r.setConfig(a.symbolType,a.configType,a.number))}add(r){return this.configSteps.push(r),this}}var Rt;v.formatsToConfigs={},v.typesToFormats={},v.register("codabar",new v(F.ZBAR_CODABAR)),v.register("code_39",new v(F.ZBAR_CODE39)),v.register("code_93",new v(F.ZBAR_CODE93)),v.register("code_128",new v(F.ZBAR_CODE128)),v.register("databar",new v(F.ZBAR_DATABAR)),v.register("databar_exp",new v(F.ZBAR_DATABAR_EXP)),v.register("ean_2",new v(F.ZBAR_EAN2)),v.register("ean_5",new v(F.ZBAR_EAN5)),v.register("ean_8",new v(F.ZBAR_EAN8)),v.register("ean_13",new v(F.ZBAR_EAN13)),v.register("ean_13+2",new v(F.ZBAR_EAN13)).add(new v(F.ZBAR_EAN2)),v.register("ean_13+5",new v(F.ZBAR_EAN13)).add(new v(F.ZBAR_EAN5)),v.register("isbn_10",new v(F.ZBAR_ISBN10)).add(new v(F.ZBAR_EAN13)),v.register("isbn_13",new v(F.ZBAR_ISBN13)).add(new v(F.ZBAR_EAN13)),v.register("isbn_13+2",new v(F.ZBAR_ISBN13)).add(new v(F.ZBAR_EAN13)).add(new v(F.ZBAR_EAN2)),v.register("isbn_13+5",new v(F.ZBAR_ISBN13)).add(new v(F.ZBAR_EAN13)).add(new v(F.ZBAR_EAN5)),v.register("itf",new v(F.ZBAR_I25)),v.register("qr_code",new v(F.ZBAR_QRCODE)),v.register("sq_code",new v(F.ZBAR_SQCODE)),v.register("upc_a",new v(F.ZBAR_UPCA)).add(new v(F.ZBAR_EAN13)),v.register("upc_e",new v(F.ZBAR_UPCE)).add(new v(F.ZBAR_EAN13)),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.UPRIGHT=0]="UPRIGHT",e[e.ROTATED_RIGHT=1]="ROTATED_RIGHT",e[e.UPSIDE_DOWN=2]="UPSIDE_DOWN",e[e.ROTATED_LEFT=3]="ROTATED_LEFT"}(Rt||(Rt={}));class Nr{}const Cr=(()=>{try{return new OffscreenCanvas(1,1).getContext("2d")instanceof OffscreenCanvasRenderingContext2D}catch{return!1}})();class Ie{constructor(r={}){if(r.formats!==void 0){if(!Array.isArray(r.formats)||!r.formats.length)throw new TypeError(`Barcode formats should be a non-empty array of strings but are: ${JSON.stringify(r)}`);const t=r.formats.filter(s=>!v.formats().includes(s));if(t.length)throw new TypeError(`Unsupported barcode format(s): ${t.join(", ")}`)}this.formats=r.formats||v.formats(),this.zbarConfig=r.zbar||new Nr}static getSupportedFormats(){return Promise.resolve(v.formats())}detect(r){if(!Ie.isImageBitmapSource(r))throw new TypeError("BarcodeDetector.detect() argument is not an ImageBitmapSource");const t=Ie.intrinsicDimensions(r);if(t.width===0||t.height===0)return Promise.resolve([]);try{return Promise.all([this.toImageData(r),this.getScanner()]).then(s=>{const a=s[0],i=s[1];return this.zbarConfig.enableCache!==void 0&&i.enableCache(this.zbarConfig.enableCache),Sr(a.data,a.width,a.height,i)}).then(s=>s.map(a=>this.toBarcodeDetectorResult(a)))}catch(s){return Promise.reject(s)}}getScanner(){return new Promise((r,t)=>Dr(this,void 0,void 0,function*(){if(!this.scanner){const s=yield Ot();this.formats.length>0&&(s.setConfig(F.ZBAR_NONE,Oe.ZBAR_CFG_ENABLE,0),this.formats.forEach(a=>v.configure(s,a))),this.scanner=s}r(this.scanner)}))}toImageData(r){const t=s=>{const a=Ie.intrinsicDimensions(s);this.canvas&&this.canvas.width===a.width&&this.canvas.height===a.height||(this.canvas=function(d,w){if(Cr)return new OffscreenCanvas(d,w);{const l=document.createElement("canvas");return l.width=d,l.height=w,l}}(a.width,a.height));const i=this.canvas,c=i.getContext("2d");return c.drawImage(s,0,0),c.getImageData(0,0,i.width,i.height)};if(r instanceof ImageData)return Promise.resolve(r);if(r instanceof Blob){const s=document.createElement("img");return s.src=URL.createObjectURL(r),s.decode().then(()=>t(s)).finally(()=>URL.revokeObjectURL(s.src))}return r instanceof CanvasRenderingContext2D?Promise.resolve(r.getImageData(0,0,r.canvas.width,r.canvas.height)):Promise.resolve(t(r))}toBarcodeDetectorResult(r){const t={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};return r.points.forEach(s=>{t.minX=Math.min(t.minX,s.x),t.maxX=Math.max(t.maxX,s.x),t.minY=Math.min(t.minY,s.y),t.maxY=Math.max(t.maxY,s.y)}),{format:v.toFormat(r.type),rawValue:r.decode(this.zbarConfig.encoding),orientation:r.orientation,quality:r.quality,boundingBox:DOMRectReadOnly.fromRect({x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}),cornerPoints:[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]}}static isImageBitmapSource(r){return r instanceof HTMLImageElement||r instanceof HTMLVideoElement||r instanceof HTMLCanvasElement||r instanceof Blob||r instanceof ImageData||r instanceof CanvasRenderingContext2D||r instanceof ImageBitmap||r&&r.width==0||r&&r.height==0}static intrinsicDimensions(r){return{width:Number(r.naturalWidth||r.videoWidth||r.width),height:Number(r.naturalHeight||r.videoHeight||r.height)}}}if(typeof window<"u")try{window.BarcodeDetector.getSupportedFormats()}catch{window.BarcodeDetector=Ie}function Ir(){const{register:e,handleSubmit:r,reset:t}=cr(),[s,a]=Y.useState([]),[i,c]=Y.useState(null),[d,w]=Y.useState(!1),{token:l}=jt(),g=I=>{a([...I.target.files])},A=async I=>{w(!0);try{const B=new FormData;B.append("product_name",I.product_name),B.append("product_type",I.product_type),B.append("product_label",I.product_label),B.append("product_sku",I.product_sku),B.append("product_description",I.product_description),B.append("price",parseInt(I.price)),s.forEach((q,U)=>{B.append(`files[${U}]`,q)}),i&&(console.log(i),B.append("product_barcode",i)),(await Ut(l,B)).status===200&&(alert("Product successfully added!"),t(),a([]),c(""))}catch(B){console.error("Error adding product:",B),alert("Failed to add product. Please try again.")}finally{w(!1)}};return x.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-gray-50 dark:bg-gray-900 rounded-md shadow-md",children:[x.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Add New Product"}),x.jsxs("form",{onSubmit:r(A),className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product Name"}),x.jsx("input",{type:"text",...e("product_name",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product Type"}),x.jsx("input",{type:"text",...e("product_type",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product type"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product Label"}),x.jsx("input",{type:"text",...e("product_label",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product label"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product SKU"}),x.jsx("input",{type:"text",...e("product_sku",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product SKU"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Barcode Scanner"}),x.jsx(pr,{options:{formats:["code_128"]},onCapture:I=>c(I.rawValue)})]}),i&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Detected Barcode"}),x.jsx("p",{className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",children:i})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product Description"}),x.jsx("textarea",{...e("product_description",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product description"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Price"}),x.jsx("input",{type:"number",...e("price",{required:!0}),className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Enter product price"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-1",children:"Product Images"}),x.jsx("input",{type:"file",multiple:!0,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-md text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"})]}),x.jsx("div",{className:"text-center",children:x.jsx("button",{type:"submit",className:`px-6 py-2 rounded-md text-white font-semibold ${d?"bg-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,disabled:d,children:d?"Submitting...":"Add Product"})})]})]})}const Zr=()=>x.jsx(x.Fragment,{children:x.jsx(Mt,{children:x.jsx(Lt,{children:x.jsx(Ir,{})})})});export{Zr as default};
